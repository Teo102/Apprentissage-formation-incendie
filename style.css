/* ---------- DESIGN SYSTEM ---------- */
:root{
  --bg:#0f172a;           /* slate-900 */
  --card:#0b1222;         /* deep blue */
  --muted:#94a3b8;        /* slate-400 */
  --text:#e5e7eb;         /* gray-200 */
  --primary:#ef4444;      /* red-500 */
  --primary-600:#dc2626;  /* red-600 */
  --accent:#f59e0b;       /* amber-500 */
  --ok:#10b981;           /* emerald-500 */
  --warn:#f97316;         /* orange-500 */
  --shadow:0 10px 30px rgba(0,0,0,.35);
  --radius:18px;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; font:16px/1.55 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial;
  color:var(--text);
  background:radial-gradient(1200px 1200px at 10% -10%, #1f2937 0, var(--bg) 40%);
}

a{color:inherit; text-decoration:none}

.app{display:grid; grid-template-columns:300px 1fr; min-height:100vh}
@media (max-width:1100px){ .app{grid-template-columns:1fr} }

/* Sidebar */
.sidebar{
  position:sticky; top:0; height:100vh; overflow:auto; padding:22px 18px;
  background:linear-gradient(180deg,#0b1222 0,#0b1222a6 50%,#0b122200 100%);
  border-right:1px solid #1f2937;
}
.brand{display:flex; align-items:center; gap:10px; margin-bottom:14px}
.logo{width:38px;height:38px;display:grid;place-items:center;border-radius:12px;
  background:conic-gradient(from 210deg,#7f1d1d,#ef4444,#f59e0b,#7f1d1d); box-shadow:0 0 40px #ef444488 inset}
.brand h1{font-size:18px; margin:0; letter-spacing:.4px}

.search{position:relative;margin:.75rem 0 1rem}
.search input{width:100%; padding:12px 40px 12px 14px; border-radius:12px;
  border:1px solid #1f2937; background:#0b1222; color:var(--text); outline:none}
.search svg{position:absolute; right:12px; top:50%; transform:translateY(-50%); opacity:.6}

.nav{display:flex; flex-direction:column; gap:8px}
.nav button{
  all:unset; display:flex; gap:10px; align-items:center; cursor:pointer; padding:10px 12px;
  border-radius:12px; color:var(--muted);
}
.nav button:hover{background:#111827; color:var(--text)}
.nav button.active{background:linear-gradient(90deg,#111827,#0b1222); color:var(--text); border:1px solid #1f2937}
.badge{margin-left:auto; background:#111827; color:#e5e7eb; padding:2px 8px; border-radius:999px; font-size:12px; border:1px solid #1f2937}

.credits{margin-top:20px; padding:12px; border-top:1px dashed #1f2937; font-size:12px; color:var(--muted)}
.small{opacity:.8}

/* Main */
main{padding:28px}
.toolbar{display:flex; flex-wrap:wrap; gap:10px; align-items:center; margin-bottom:16px}
.btn{all:unset; cursor:pointer; padding:10px 14px; border-radius:12px; background:#111827; border:1px solid #1f2937; box-shadow:var(--shadow)}
.btn.primary{background:linear-gradient(90deg,var(--primary),var(--primary-600)); color:white; border:none}
.btn.ghost{background:transparent; border:1px dashed #1f2937}
.btn.small{padding:8px 10px; font-size:13px}

.pill{display:inline-flex; gap:8px; align-items:center; padding:6px 10px; background:#111827; border:1px solid #1f2937; border-radius:999px; font-size:12px; color:var(--muted)}

.grid{display:grid; gap:18px}
.grid.cols-2{grid-template-columns:1fr 1fr}
.grid.cols-3{grid-template-columns:repeat(3,1fr)}
@media(max-width:1100px){ .grid.cols-3, .grid.cols-2 {grid-template-columns:1fr} }

.card{
  background:linear-gradient(180deg,#0b1222 0,#0b1222 70%,#0b1222cc 100%); border:1px solid #1f2937; border-radius:var(--radius); padding:18px; box-shadow:var(--shadow);
}
.card h3, .card h2{margin:0 0 10px}

/* Progress */
.progress{height:10px; background:#111827; border-radius:999px; overflow:hidden; border:1px solid #1f2937}
.progress > i{display:block; height:100%; width:0%; background:linear-gradient(90deg,var(--accent),var(--ok)); transition:width .5s ease}

/* Module pages */
section.module{display:none; animation:fade .3s ease}
section.module.active{display:block}
@keyframes fade{from{opacity:0; transform:translateY(6px)} to{opacity:1; transform:none}}

.kpi{display:flex; gap:12px; flex-wrap:wrap}
.kpi .tag{background:#111827; border:1px solid #1f2937; padding:8px 10px; border-radius:12px; font-size:13px; color:var(--muted)}

.qa{display:grid; gap:10px}
.qa details{background:#0d1426; border:1px solid #1f2937; border-radius:12px; padding:10px}
.qa summary{cursor:pointer; font-weight:600}

.actions{display:flex; gap:10px; flex-wrap:wrap; margin-top:12px}

/* Quiz */
.quiz{display:grid; gap:14px}
.quiz .q{padding:12px; border:1px solid #1f2937; border-radius:12px; background:#0d1426}
.quiz .q h4{margin:.2rem 0 .6rem}
.quiz .choices{display:grid; gap:8px}
.choice{display:flex; gap:10px; align-items:center; background:#111827; border:1px solid #1f2937; border-radius:12px; padding:10px; cursor:pointer}
.choice.correct{outline:2px solid var(--ok)}
.choice.wrong{outline:2px solid var(--primary)}

/* Association */
.match{display:grid; grid-template-columns:1fr 1fr; gap:14px}
.match .bank,.match .targets{display:grid; gap:10px}
.chip{display:inline-flex; align-items:center; gap:8px; padding:8px 10px; border-radius:10px; background:#111827; border:1px dashed #334155; cursor:grab}
.slot{min-height:44px; display:flex; align-items:center; justify-content:space-between; gap:10px; padding:10px; border-radius:10px; background:#0d1426; border:1px dashed #334155}

/* Memory */
.memory{display:grid; grid-template-columns:repeat(4,1fr); gap:10px}
.card-mem{height:90px; border-radius:12px; border:1px solid #1f2937; background:#111827; display:grid; place-items:center; cursor:pointer; position:relative; transform-style:preserve-3d; transition:transform .4s}
.card-mem.flip{transform:rotateY(180deg)}
.face{position:absolute; inset:0; display:grid; place-items:center; backface-visibility:hidden}
.back{background:linear-gradient(135deg,#111827,#0b1222)}
.front{transform:rotateY(180deg); background:#0d1426}

/* Flashcards */
.flash{display:grid; grid-template-columns:1fr 1fr; gap:10px}
.flash .fc{padding:16px; border:1px solid #1f2937; background:#0d1426; border-radius:12px}

/* Print */
@media print{
  .sidebar,.toolbar{display:none}
  main{padding:0}
  .card{box-shadow:none}
  body{background:white; color:black}
  .card, .q, .slot, .chip{border-color:#ddd; background:white}
}
